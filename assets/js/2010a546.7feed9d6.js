"use strict";(globalThis.webpackChunkbook=globalThis.webpackChunkbook||[]).push([[7042],{2666:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>t,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"book-tutorial/module-1/intro","title":"ROS 2 Foundations","description":"This chapter introduces you to the core concepts of ROS 2 (Robot Operating System 2), the framework that serves as the nervous system for modern robots. You\'ll learn about nodes, topics, services, and how they work together to create distributed robotic applications.","source":"@site/docs/book-tutorial/module-1/intro.md","sourceDirName":"book-tutorial/module-1","slug":"/book-tutorial/module-1/intro","permalink":"/physical-ai-book/docs/book-tutorial/module-1/intro","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/book-tutorial/module-1/intro.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"ROS 2 Foundations"},"sidebar":"bookTutorial","previous":{"title":"Module 1: The Robotic Nervous System (ROS 2)","permalink":"/physical-ai-book/docs/book-tutorial/module-1/"},"next":{"title":"Python Integration with Robotics","permalink":"/physical-ai-book/docs/book-tutorial/module-1/python-integration"}}');var i=r(4848),o=r(8453);const t={sidebar_position:2,title:"ROS 2 Foundations"},a="ROS 2 Foundations: The Robotic Nervous System",l={},c=[{value:"What is ROS 2?",id:"what-is-ros-2",level:2},{value:"Core Concepts",id:"core-concepts",level:2},{value:"Nodes",id:"nodes",level:3},{value:"Topics and Messages",id:"topics-and-messages",level:3},{value:"Services",id:"services",level:3},{value:"Launch Files",id:"launch-files",level:2},{value:"Python Launch File",id:"python-launch-file",level:3},{value:"Running Launch Files",id:"running-launch-files",level:3},{value:"Architecture Overview",id:"architecture-overview",level:2},{value:"DDS (Data Distribution Service)",id:"dds-data-distribution-service",level:3},{value:"Parameters",id:"parameters",level:3},{value:"Setting Up Your Environment",id:"setting-up-your-environment",level:2},{value:"Creating a ROS 2 Workspace",id:"creating-a-ros-2-workspace",level:3},{value:"Understanding the Command Line Tools",id:"understanding-the-command-line-tools",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Summary",id:"summary",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"ros-2-foundations-the-robotic-nervous-system",children:"ROS 2 Foundations: The Robotic Nervous System"})}),"\n",(0,i.jsx)(n.p,{children:"This chapter introduces you to the core concepts of ROS 2 (Robot Operating System 2), the framework that serves as the nervous system for modern robots. You'll learn about nodes, topics, services, and how they work together to create distributed robotic applications."}),"\n",(0,i.jsx)(n.h2,{id:"what-is-ros-2",children:"What is ROS 2?"}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 is a flexible framework for writing robot software. It's a collection of tools, libraries, and conventions that aim to simplify the task of creating complex and robust robot behavior across a wide variety of robot platforms."}),"\n",(0,i.jsx)(n.p,{children:"Unlike a traditional operating system, ROS 2 is middleware that provides services designed for a heterogeneous computer cluster:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Hardware abstraction"}),"\n",(0,i.jsx)(n.li,{children:"Low-level device control"}),"\n",(0,i.jsx)(n.li,{children:"Implementation of commonly used functionality"}),"\n",(0,i.jsx)(n.li,{children:"Message-passing between processes"}),"\n",(0,i.jsx)(n.li,{children:"Package management"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"core-concepts",children:"Core Concepts"}),"\n",(0,i.jsx)(n.h3,{id:"nodes",children:"Nodes"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"node"})," is an executable that uses ROS 2 to communicate with other nodes. Nodes are the fundamental building blocks of ROS 2 applications."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Example: Simple ROS 2 Node\r\nimport rclpy\r\nfrom rclpy.node import Node\r\n\r\nclass MinimalNode(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_publisher')\r\n        self.get_logger().info('Minimal node initialized')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    node = MinimalNode()\r\n\r\n    try:\r\n        rclpy.spin(node)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        node.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key characteristics of nodes:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Each node runs in its own process"}),"\n",(0,i.jsx)(n.li,{children:"Nodes communicate with each other through topics and services"}),"\n",(0,i.jsx)(n.li,{children:"Multiple nodes can be run simultaneously"}),"\n",(0,i.jsx)(n.li,{children:"Nodes can be written in different languages (C++, Python, etc.)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"topics-and-messages",children:"Topics and Messages"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Topics"})," enable asynchronous communication between nodes using a publish/subscribe model. Nodes that publish data are called publishers, and nodes that receive data are called subscribers."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Publisher example\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass MinimalPublisher(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_publisher')\r\n        self.publisher = self.create_publisher(String, 'topic', 10)\r\n        timer_period = 0.5  # seconds\r\n        self.timer = self.create_timer(timer_period, self.timer_callback)\r\n        self.i = 0\r\n\r\n    def timer_callback(self):\r\n        msg = String()\r\n        msg.data = f'Hello World: {self.i}'\r\n        self.publisher.publish(msg)\r\n        self.get_logger().info(f'Publishing: \"{msg.data}\"')\r\n        self.i += 1\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    minimal_publisher = MinimalPublisher()\r\n\r\n    try:\r\n        rclpy.spin(minimal_publisher)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        minimal_publisher.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Subscriber example\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass MinimalSubscriber(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_subscriber')\r\n        self.subscription = self.create_subscription(\r\n            String,\r\n            'topic',\r\n            self.listener_callback,\r\n            10)\r\n        self.subscription  # prevent unused variable warning\r\n\r\n    def listener_callback(self, msg):\r\n        self.get_logger().info(f'I heard: \"{msg.data}\"')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    minimal_subscriber = MinimalSubscriber()\r\n\r\n    try:\r\n        rclpy.spin(minimal_subscriber)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        minimal_subscriber.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"services",children:"Services"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Services"})," provide synchronous request/response communication between nodes. Services are useful when you need to get a specific response from a particular node."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Service server example\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom example_interfaces.srv import AddTwoInts\r\n\r\nclass MinimalService(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_service')\r\n        self.srv = self.create_service(AddTwoInts, 'add_two_ints', self.add_two_ints_callback)\r\n\r\n    def add_two_ints_callback(self, request, response):\r\n        response.sum = request.a + request.b\r\n        self.get_logger().info(f'Incoming request\\na: {request.a}, b: {request.b}')\r\n        return response\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    minimal_service = MinimalService()\r\n\r\n    try:\r\n        rclpy.spin(minimal_service)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        minimal_service.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Service client example\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom example_interfaces.srv import AddTwoInts\r\n\r\nclass MinimalClientAsync(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_client_async')\r\n        self.cli = self.create_client(AddTwoInts, 'add_two_ints')\r\n\r\n        while not self.cli.wait_for_service(timeout_sec=1.0):\r\n            self.get_logger().info('Service not available, waiting again...')\r\n\r\n        self.req = AddTwoInts.Request()\r\n\r\n    def send_request(self, a, b):\r\n        self.req.a = a\r\n        self.req.b = b\r\n        self.future = self.cli.call_async(self.req)\r\n        rclpy.spin_until_future_complete(self, self.future)\r\n        return self.future.result()\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    minimal_client = MinimalClientAsync()\r\n    response = minimal_client.send_request(1, 2)\r\n    minimal_client.get_logger().info(f'Result of add_two_ints: {response.sum}')\r\n\r\n    minimal_client.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.h2,{id:"launch-files",children:"Launch Files"}),"\n",(0,i.jsx)(n.p,{children:"Launch files allow you to start multiple nodes with a single command and manage complex robotic systems more easily. They can be written in Python or XML."}),"\n",(0,i.jsx)(n.h3,{id:"python-launch-file",children:"Python Launch File"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# launch_example.py\r\nfrom launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        Node(\r\n            package='demo_nodes_py',\r\n            executable='talker',\r\n            name='talker',\r\n        ),\r\n        Node(\r\n            package='demo_nodes_py',\r\n            executable='listener',\r\n            name='listener',\r\n        ),\r\n    ])\n"})}),"\n",(0,i.jsx)(n.h3,{id:"running-launch-files",children:"Running Launch Files"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Create launch directory in your package\r\nmkdir -p launch\r\n\r\n# Run the launch file\r\nros2 launch your_package launch_example.py\n"})}),"\n",(0,i.jsx)(n.h2,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 uses a distributed architecture where nodes can run on the same or different machines. The key architectural components are:"}),"\n",(0,i.jsx)(n.h3,{id:"dds-data-distribution-service",children:"DDS (Data Distribution Service)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Provides the underlying communication mechanism"}),"\n",(0,i.jsx)(n.li,{children:"Handles message routing between nodes"}),"\n",(0,i.jsx)(n.li,{children:"Supports multiple DDS implementations (Fast DDS, Cyclone DDS, RTI Connext)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Dynamic configuration system"}),"\n",(0,i.jsx)(n.li,{children:"Nodes can store and retrieve configuration values"}),"\n",(0,i.jsx)(n.li,{children:"Parameters can be set at startup or changed during runtime"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Parameter example\r\nimport rclpy\r\nfrom rclpy.node import Node\r\n\r\nclass ParameterNode(Node):\r\n    def __init__(self):\r\n        super().__init__('parameter_node')\r\n\r\n        # Declare parameters\r\n        self.declare_parameter('my_parameter', 'default_value')\r\n\r\n        # Get parameter value\r\n        my_param = self.get_parameter('my_parameter').value\r\n        self.get_logger().info(f'Parameter value: {my_param}')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    node = ParameterNode()\r\n    rclpy.spin(node)\r\n    node.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,i.jsx)(n.h2,{id:"setting-up-your-environment",children:"Setting Up Your Environment"}),"\n",(0,i.jsx)(n.h3,{id:"creating-a-ros-2-workspace",children:"Creating a ROS 2 Workspace"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Create workspace directory\r\nmkdir -p ~/ros2_ws/src\r\ncd ~/ros2_ws\r\n\r\n# Build the workspace\r\ncolcon build\r\n\r\n# Source the workspace\r\nsource install/setup.bash\n"})}),"\n",(0,i.jsx)(n.h3,{id:"understanding-the-command-line-tools",children:"Understanding the Command Line Tools"}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 provides several command-line tools for debugging and monitoring:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# List all active nodes\r\nros2 node list\r\n\r\n# List all topics\r\nros2 topic list\r\n\r\n# Echo messages on a topic\r\nros2 topic echo /topic_name std_msgs/msg/String\r\n\r\n# Call a service\r\nros2 service call /service_name example_interfaces/srv/AddTwoInts "{a: 1, b: 2}"\r\n\r\n# List parameters of a node\r\nros2 param list node_name\n'})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Node Design"}),": Keep nodes focused on a single responsibility"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Topic Naming"}),": Use descriptive, consistent naming conventions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Message Types"}),": Use standard message types when possible"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Error Handling"}),": Always include proper error handling and logging"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Resource Management"}),": Clean up resources properly in node destruction"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 provides the foundational infrastructure for modern robotics applications. Understanding nodes, topics, services, and launch files is essential for building distributed robotic systems. In the next chapter, we'll explore how to integrate Python with ROS 2 to create powerful control nodes for your robots."})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>a});var s=r(6540);const i={},o=s.createContext(i);function t(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);